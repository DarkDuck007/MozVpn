<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:local="clr-namespace:MozVPNMaui2"
             x:Class="MozVPNMaui2.MainPage">

   <Border Padding="5">
      <Grid>
         <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="*"/>
         </Grid.ColumnDefinitions>
         <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
         </Grid.RowDefinitions>
         <Border Grid.Row="0" Grid.Column="0" Padding="5">
            <StackLayout >
               <Grid>
                  <Grid.ColumnDefinitions>
                     <ColumnDefinition Width="*"/>
                     <ColumnDefinition Width="*"/>
                  </Grid.ColumnDefinitions>
                  <Label Margin="3" VerticalOptions="Center" Grid.Column="0" Text="Toggle"/>
                  <Switch Grid.Column="1" HorizontalOptions="End" Margin="3" x:Name="ToggleServerConnectionSwitch" Toggled="ToggleServerConnectionSwitch_Toggled"></Switch>
               </Grid>
               <Grid>
                  <Grid.ColumnDefinitions>
                     <ColumnDefinition Width="Auto"/>
                     <ColumnDefinition Width="Auto"/>
                  </Grid.ColumnDefinitions>
                  <Grid.RowDefinitions>
                     <RowDefinition Height="Auto"/>
                     <RowDefinition Height="Auto"/>
                     <RowDefinition Height="Auto"/>
                     <RowDefinition Height="Auto"/>
                     <RowDefinition Height="Auto"/>
                     <RowDefinition Height="Auto"/>
                  </Grid.RowDefinitions>
                  <Label Margin="3,-8" Grid.Column="0" Grid.Row="0" VerticalOptions="Center" Text="Proxy Mode" HorizontalOptions="Start"/>
                  <CheckBox Margin="3,-8" Grid.Column="1" Grid.Row="0" x:Name="ProxyModeCheckBox" HorizontalOptions="Start"
                            CheckedChanged="ProxyModeCheckBox_CheckedChanged">
                     <CheckBox.IsEnabled>
                        <OnPlatform x:TypeArguments="x:Boolean">
                           <On Platform="Android" Value="False"/>
                           <On Platform="Windows" Value="True"/>
                        </OnPlatform>
                     </CheckBox.IsEnabled>
                  </CheckBox>

                  <Label Margin="3,-8" Grid.Column="0" Grid.Row="1" VerticalOptions="Center" Text="FASym" HorizontalOptions="Start"/>
                  <CheckBox Margin="3,-8" Grid.Column="1" Grid.Row="1" HorizontalOptions="Start" x:Name="FaSymCheckBox"/>

                  <Label Margin="3,-8" Grid.Column="0" Grid.Row="2" VerticalOptions="Center" Text="VPN Mode" HorizontalOptions="Start"/>
                  <CheckBox Margin="3,-8" Grid.Column="1" Grid.Row="2" HorizontalOptions="Start" x:Name="TunModeCheckBox">
                     <CheckBox.IsEnabled>
                        <OnPlatform x:TypeArguments="x:Boolean">
                           <On Platform="Android" Value="True"/>
                           <On Platform="Windows" Value="False"/>
                        </OnPlatform>
                     </CheckBox.IsEnabled>
                  </CheckBox>

                  <Label Margin="3,-8" Grid.Column="0" Grid.Row="3" VerticalOptions="Center" Text="Fuck Ports" HorizontalOptions="Start"/>
                  <CheckBox Margin="3,-8" Grid.Column="1" Grid.Row="3" HorizontalOptions="Start" x:Name="FuckEmPorts"/>

                  <Label Margin="3,-8" Grid.Column="0" Grid.Row="4" VerticalOptions="Center" Text="SkipStun" HorizontalOptions="Start"/>
                  <CheckBox Margin="3,-8" Grid.Column="1" Grid.Row="4" HorizontalOptions="Start" x:Name="SkipStunCheckbox"/>

                  <Label Margin="3,-8" Grid.Column="0" Grid.Row="5" VerticalOptions="Center" Text="Enable Log" HorizontalOptions="Start"/>
                  <CheckBox Margin="3,-8" IsChecked="False" CheckedChanged="LogEnabledCheckBox_CheckedChanged" Grid.Column="1" Grid.Row="5" HorizontalOptions="Start" x:Name="LogEnabledCheckBox"/>
               </Grid>
            </StackLayout>
         </Border>
         <StackLayout Grid.Row="0" Grid.Column="1" >
            <Border Padding="5">
               <StackLayout Orientation="Vertical">
                  <StackLayout Orientation="Horizontal">
                     <Label Text="HTTP Status:" Margin="3"/>
                     <Label x:Name="HTTPStatusLabel" Text="Not Connected" 
TextColor="Red" Margin="3"/>
                  </StackLayout>
                  <StackLayout Orientation="Horizontal">
                     <Label Text="UDP Status:" Margin="3"/>
                     <Label x:Name="UDPStatusLabel" Text="Not Connected"
TextColor="Red" Margin="3"/>
                  </StackLayout>
               </StackLayout>
            </Border>
            <Border Padding="5">
               <StackLayout>
                  <Entry Margin="3" x:Name="SocksProxyAddress"
      IsReadOnly="True" Text="-">
                     <Entry.GestureRecognizers>
                        <TapGestureRecognizer Tapped="SocksProxyEntryTapped" NumberOfTapsRequired="1"/>
                     </Entry.GestureRecognizers>
                  </Entry>
                  <Entry Margin="3" x:Name="HTTPProxyAddress"
      IsReadOnly="True" Text="-">
                     <Entry.GestureRecognizers>
                        <TapGestureRecognizer Tapped="HTTPProxyEntryTapped" NumberOfTapsRequired="1"/>
                     </Entry.GestureRecognizers>
                  </Entry>
               </StackLayout>
            </Border>
         </StackLayout>
         <Border Padding="5" Grid.Row="1" Grid.ColumnSpan="2">
            <StackLayout Orientation="Vertical">
               <Grid>
                  <Grid.ColumnDefinitions>
                     <ColumnDefinition Width="Auto"/>
                     <ColumnDefinition Width="*"/>
                  </Grid.ColumnDefinitions>
                  <Grid.RowDefinitions>
                     <RowDefinition Height="Auto"/>
                     <RowDefinition Height="Auto"/>
                     <RowDefinition Height="Auto"/>
                  </Grid.RowDefinitions>
                  <RadioButton x:Name="UseProxyRadioBtn" Content="Use Proxy" Margin="3" Grid.Column="0" Grid.Row="0"></RadioButton>
                  <Entry x:Name="ConInitProxyServerEntry" Placeholder="Proxy.Address:Port" Grid.Column="1" Margin="3" Grid.Row="0"/>
                  <RadioButton x:Name="CFWorkerRadioBtn"  IsEnabled="False" Content="Use CFW" Margin="3" Grid.Column="0" Grid.Row="1"></RadioButton>
                  <RadioButton x:Name="DirectConnectionRadioBtn" IsChecked="True" Content="Direct Connection" Margin="3" Grid.Column="0" Grid.Row="2"></RadioButton>
               </Grid>
               <Grid Margin="0,-10,0,-5">
                  <Grid.ColumnDefinitions>
                     <ColumnDefinition Width="Auto"/>
                     <ColumnDefinition Width="*"/>
                  </Grid.ColumnDefinitions>
                  <Grid.RowDefinitions>
                     <RowDefinition Height="Auto"/>
                     <RowDefinition Height="Auto"/>
                     <RowDefinition Height="Auto"/>
                     <RowDefinition Height="Auto"/>
                  </Grid.RowDefinitions>
                  <Label VerticalOptions="Center" Text="Stun Server:" Margin="3" Grid.Column="0"/>
                  <Picker HorizontalOptions="FillAndExpand" x:Name="StunServerSelectorComboBox" Grid.Column="1" SelectedIndex="0" Margin="3"></Picker>
                  <Label VerticalOptions="Center" Text="ConnectionType:" Margin="3" Grid.Column="0" Grid.Row="1"/>
                  <Picker x:Name="ConnectionTypeComboBox" Margin="3" Grid.Column="1" Grid.Row="1">
                     <Picker.Items>
                        <x:String>Reliable</x:String>
                        <x:String>Unreliable</x:String>
                        <x:String>TCP</x:String>
                        <x:String>BALETUN</x:String>
                     </Picker.Items>
                  </Picker>
                  <Label VerticalOptions="Center"  Text="Max Channels:" Grid.Row="2" Margin="3" />
                  <Picker Margin="3" Grid.Row="2" Grid.Column="1" x:Name="MaxChannelsComboBox" SelectedIndex="31"></Picker>
                  <Label VerticalOptions="Center"  Text="Server Address:" Grid.Row="3" Margin="3"/>
                  <Picker Margin="3" Grid.Row="3" Grid.Column="1" x:Name="ServerSelectionComboBox" SelectedIndex="0"></Picker>
               </Grid>
            </StackLayout>
         </Border>
         <!--<Expander Grid.Row="2" Header="Log" Grid.ColumnSpan="2" IsExpanded="True">-->
         <!--</Expander>-->
         <!--<TabControl Grid.Row="2" SelectedIndex="1" Grid.ColumnSpan="2">-->
         <!--<TabItem Header="Log">-->
         <Border Padding="5" Grid.Row="2" Grid.ColumnSpan="2">

            <Grid  >
               <Grid.ColumnDefinitions>
                  <ColumnDefinition Width="Auto"/>
                  <ColumnDefinition Width="*"/>
                  <ColumnDefinition Width="Auto"/>
                  <ColumnDefinition Width="*"/>
               </Grid.ColumnDefinitions>
               <Grid.RowDefinitions>
                  <RowDefinition Height="*"/>
               </Grid.RowDefinitions>
               <StackLayout Grid.Column="0" Grid.Row="0" >
                  <Label Margin="3" Text="Latency:"/>
                  <Label Margin="3" Text="Loss:"/>
                  <Label Margin="3" Text="Outbound:"/>
                  <Label Margin="3" Text="Inbound:"/>

               </StackLayout>
               <StackLayout Grid.Column="1" Grid.Row="0">
                  <Label Margin="3" x:Name="PingTextBox" Text="0ms"/>
                  <Label Margin="3" x:Name="PacketLossPercentTextBox" Text="0%"/>
                  <Label Margin="3" x:Name="OutboundRateTextBox" Text="0 B/sec"/>
                  <Label Margin="3" x:Name="InboundRateTextBox" Text="0 B/sec"/>

               </StackLayout>
               <StackLayout Grid.Column="2" Grid.Row="0">
                  <Label Margin="3" Text="Connections:"/>
                  <Label Margin="3" Text="Channels:"/>
                  <Label Margin="3" Text="Total Out:"/>
                  <Label Margin="3" Text="Total In:"/>

               </StackLayout>
               <StackLayout Grid.Row="0" Grid.Column="3">
                  <Label Margin="3" x:Name="ActiveConnectionsTextBox" Text="0"/>
                  <Label Margin="3" x:Name="ChannelsTextBox" Text="0"/>
                  <Label Margin="3" x:Name="TotalOutTextBox" Text="0 B"/>
                  <Label Margin="3" x:Name="TotalInTextBox" Text="0 B"/>

               </StackLayout>
            </Grid>
         </Border>

         <Border Grid.Row="3" Grid.ColumnSpan="2">
            <ScrollView x:Name="ScrlVi" >
               <VerticalStackLayout x:Name="VertLayout" Spacing="-10">
                  <Editor IsSpellCheckEnabled="False" x:Name="LogTextBox" Text="Log:" AutoSize="TextChanges"/>
                  <Label x:Name="EndOfText"/>
               </VerticalStackLayout>
            </ScrollView>
         </Border>

         <!--</TabItem>-->
         <!--<TabItem Header="Info">-->


         <!--</TabItem>-->
         <!--<TabItem Header="Channels"/>-->
         <!--</TabControl>-->
      </Grid>
   </Border>
   <!--<ScrollView>
        <VerticalStackLayout
            Spacing="25"
            Padding="30,0"
            VerticalOptions="Center">

            <Image
                Source="dotnet_bot.png"
                SemanticProperties.Description="Cute dot net bot waving hi to you!"
                HeightRequest="200"
                HorizontalOptions="Center" />

            <Label
                Text="Hello, World!"
                SemanticProperties.HeadingLevel="Level1"
                FontSize="32"
                HorizontalOptions="Center" />

            <Label
                Text="Welcome to .NET Multi-platform App UI"
                SemanticProperties.HeadingLevel="Level2"
                SemanticProperties.Description="Welcome to dot net Multi platform App U I"
                FontSize="18"
                HorizontalOptions="Center" />

            <Button
                x:Name="CounterBtn"
                Text="Click me"
                SemanticProperties.Hint="Counts the number of times you click"
                Clicked="OnCounterClicked"
                HorizontalOptions="Center" />

        </VerticalStackLayout>
    </ScrollView>-->

</ContentPage>
